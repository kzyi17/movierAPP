(function(b,h,a,f){b.init();var c={imageList:a.getElementById("image-list"),getFileInputArray:function(){return[].slice.call(c.imageList.querySelectorAll("input.imageData"))},getFileInputIdArray:function(){var a=[];c.getFileInputArray().forEach(function(c){""!=c.value&&a.push(c.getAttribute("id"))});return a}},k=0;c.newPlaceholder=function(){var e=c.getFileInputArray();if(!(e&&0<e.length&&e[e.length-1].parentNode.classList.contains("space"))){k++;var d=a.createElement("div");d.setAttribute("class","image-item space");e=a.createElement("div");e.setAttribute("class","image-close");e.innerHTML="X";e.addEventListener("click",function(a){a.stopPropagation();a.cancelBubble=!0;setTimeout(function(){c.imageList.removeChild(d)},0);return!1},!1);var g=a.createElement("input");g.setAttribute("type","hidden");g.setAttribute("id","imageData-"+k);g.setAttribute("name","imageData-"+k);g.setAttribute("class","imageData");var f=a.createElement("a");f.setAttribute("id","image-"+k);f.className="btnAdd";f.addEventListener("tap",function(a){plus.nativeUI.actionSheet({cancel:"\u53d6\u6d88",buttons:[{title:"\u62cd\u7167"},{title:"\u4ece\u76f8\u518c\u4e2d\u9009\u62e9\u56fe\u7247"}]},function(a){switch(a.index){case 1:console.log("\u62cd\u7167");plus.camera.getCamera().captureImage(function(a){plus.io.resolveLocalFileSystemURL(a,function(a){a.file(function(a){console.log(a.size+"--"+a.name);canvasResize(a,{width:800,crop:!1,quality:50,rotate:0,callback:function(a,b,f){g.setAttribute("value",a);d.style.backgroundImage="url("+a+")";d.classList.remove("space");c.newPlaceholder()}})})},function(a){b.toast("\u8bfb\u53d6\u62cd\u7167\u6587\u4ef6\u9519\u8bef");console.log("\u8bfb\u53d6\u62cd\u7167\u6587\u4ef6\u9519\u8bef\uff1a"+a.message)})},function(a){switch(a.code){case 11:case 2:b.toast("\u53d6\u6d88\u62cd\u7167 ");break;default:b.toast("\u5f88\u62b1\u6b49\uff0c\u83b7\u53d6\u62cd\u7167\u5931\u8d25 ")}});break;case 2:console.log("\u4ece\u76f8\u518c\u4e2d\u9009\u62e9\u56fe\u7247"),plus.gallery.pick(function(a){plus.io.resolveLocalFileSystemURL(a,function(a){a.file(function(a){console.log(a.size+"--"+a.name);canvasResize(a,{width:800,crop:!1,quality:50,rotate:0,callback:function(a,b,f){g.setAttribute("value",a);d.style.backgroundImage="url("+a+")";d.classList.remove("space");c.newPlaceholder()}})})})},function(a){console.log(JSON.stringify(a));b.toast("\u53d6\u6d88\u9009\u62e9\u56fe\u7247")},{filter:"image",multiple:!1})}})},!1);d.appendChild(e);d.appendChild(f);d.appendChild(g);c.imageList.appendChild(d)}};c.newPlaceholder()})(mui,window,document,void 0);function getImgInputArray(){var b=document.getElementById("image-list"),h=[];[].slice.call(b.querySelectorAll("input.imageData")).forEach(function(a){""!=a.value&&h.push(a.getAttribute("value"))});return h}function uploadOne(b){b=b||mui.noop;plus.nativeUI.actionSheet({cancel:"\u53d6\u6d88",buttons:[{title:"\u62cd\u7167"},{title:"\u4ece\u76f8\u518c\u4e2d\u9009\u62e9\u56fe\u7247"}]},function(h){switch(h.index){case 1:console.log("\u62cd\u7167");plus.camera.getCamera().captureImage(function(a){plus.io.resolveLocalFileSystemURL(a,function(a){a.file(function(a){console.log(a.size+"--"+a.name);canvasResize(a,{width:400,crop:!1,quality:50,rotate:0,callback:function(a,c,d){b(a)}})})},function(a){mui.toast("\u8bfb\u53d6\u62cd\u7167\u6587\u4ef6\u9519\u8bef");console.log("\u8bfb\u53d6\u62cd\u7167\u6587\u4ef6\u9519\u8bef\uff1a"+a.message)})},function(a){switch(a.code){case 11:case 2:mui.toast("\u53d6\u6d88\u62cd\u7167 ");break;default:mui.toast("\u5f88\u62b1\u6b49\uff0c\u83b7\u53d6\u62cd\u7167\u5931\u8d25 ")}});break;case 2:console.log("\u4ece\u76f8\u518c\u4e2d\u9009\u62e9\u56fe\u7247"),plus.gallery.pick(function(a){plus.io.resolveLocalFileSystemURL(a,function(a){a.file(function(a){console.log(a.size+"--"+a.name);canvasResize(a,{width:400,crop:!1,quality:50,rotate:0,callback:function(a,c,d){b(a)}})})})},function(a){console.log(JSON.stringify(a));mui.toast("\u53d6\u6d88\u9009\u62e9\u56fe\u7247")},{filter:"image",multiple:!1})}})};