/**
 * 系统设置，用户相关
 *  
 * 
 **/(function(c,b){b.getCity=function(){var a=localStorage.getItem("$movier_city")||"{}";return JSON.parse(a)};b.setCity=function(a){a=a||{};localStorage.setItem("$movier_city",JSON.stringify(a))};b.getState=function(){var a=localStorage.getItem("$movier_state")||"{}";return JSON.parse(a)};b.setState=function(a){a=a||{};localStorage.setItem("$movier_state",JSON.stringify(a))};b.getUserId=function(){return(b.getState().userInfo||"{}").user_id};b.clearState=function(a){a={};localStorage.setItem("$movier_state",JSON.stringify(a))};b.checkLogin=function(){return b.getState().userId?!0:!1};b.loginAuth=function(a){a=a||c.noop;b.getState().userId?a():c.alert("\u60a8\u8fd8\u672a\u767b\u5f55,\u8bf7\u5148\u767b\u5f55","\u5f71\u4eba\u6839\u636e\u5730","\u786e\u5b9a",function(){c.openWindow({url:"login.html",id:"login",show:{aniShow:"slide-in-bottom"}})})};b.setLocation=function(){var a={};plus.geolocation.getCurrentPosition(function(b){a.longt=b.coords.longitude;a.lat=b.coords.latitude;a.info=b;localStorage.setItem("$movier_location",JSON.stringify(a))},function(a){console.log("\u83b7\u53d6\u5b9a\u4f4d\u4f4d\u7f6e\u4fe1\u606f\u5931\u8d25\uff1a"+a.message)},{geocode:!0,provider:"amap"})};b.getLocation=function(){var a=localStorage.getItem("$movier_location")||"{}";return JSON.parse(a)}})(mui,window.App={});