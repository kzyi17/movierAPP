(function(d,k,c,l){d.init();var e={imageList:c.getElementById("image-list"),getFileInputArray:function(){return[].slice.call(e.imageList.querySelectorAll("input.imageData"))},getFileInputIdArray:function(){var a=[];e.getFileInputArray().forEach(function(b){""!=b.value&&a.push(b.getAttribute("id"))});return a}},g=0;e.newPlaceholder=function(){var a=e.getFileInputArray();if(!(a&&0<a.length&&a[a.length-1].parentNode.classList.contains("space"))){g++;var b=c.createElement("div");b.setAttribute("class","image-item space");a=c.createElement("div");a.setAttribute("class","image-close");a.innerHTML="X";a.addEventListener("click",function(a){a.stopPropagation();a.cancelBubble=!0;setTimeout(function(){e.imageList.removeChild(b)},0);return!1},!1);var f=c.createElement("input");f.setAttribute("type","hidden");f.setAttribute("id","imageData-"+g);f.setAttribute("name","imageData-"+g);f.setAttribute("class","imageData");var h=c.createElement("a");h.setAttribute("id","image-"+g);h.className="btnAdd";h.addEventListener("tap",function(a){plus.nativeUI.actionSheet({cancel:"\u53d6\u6d88",buttons:[{title:"\u62cd\u7167"},{title:"\u4ece\u76f8\u518c\u4e2d\u9009\u62e9\u56fe\u7247"}]},function(a){switch(a.index){case 1:console.log("\u62cd\u7167");plus.camera.getCamera().captureImage(function(a){plus.io.resolveLocalFileSystemURL(a,function(a){a.file(function(a){console.log(a.size+"--"+a.name);canvasResize(a,{width:800,crop:!1,quality:50,rotate:0,callback:function(a,c,d){f.setAttribute("value",a);b.style.backgroundImage="url("+a+")";b.classList.remove("space");e.newPlaceholder()}})})},function(a){d.toast("\u8bfb\u53d6\u62cd\u7167\u6587\u4ef6\u9519\u8bef");console.log("\u8bfb\u53d6\u62cd\u7167\u6587\u4ef6\u9519\u8bef\uff1a"+a.message)})},function(a){switch(a.code){case 11:case 2:d.toast("\u53d6\u6d88\u62cd\u7167 ");break;default:d.toast("\u5f88\u62b1\u6b49\uff0c\u83b7\u53d6\u62cd\u7167\u5931\u8d25 ")}});break;case 2:console.log("\u4ece\u76f8\u518c\u4e2d\u9009\u62e9\u56fe\u7247"),plus.gallery.pick(function(a){plus.io.resolveLocalFileSystemURL(a,function(a){a.file(function(a){console.log(a.size+"--"+a.name);canvasResize(a,{width:800,crop:!1,quality:50,rotate:0,callback:function(a,c,d){f.setAttribute("value",a);b.style.backgroundImage="url("+a+")";b.classList.remove("space");e.newPlaceholder()}})})})},function(a){console.log(JSON.stringify(a));d.toast("\u53d6\u6d88\u9009\u62e9\u56fe\u7247")},{filter:"image",multiple:!1})}})},!1);b.appendChild(a);b.appendChild(h);b.appendChild(f);e.imageList.appendChild(b)}};e.newPlaceholder()})(mui,window,document,void 0);function getImgInputArray(){var d=document.getElementById("image-list"),k=[];[].slice.call(d.querySelectorAll("input.imageData")).forEach(function(c){""!=c.value&&k.push(c.getAttribute("value"))});return k};